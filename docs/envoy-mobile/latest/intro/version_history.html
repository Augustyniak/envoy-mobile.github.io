

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Version history &mdash; envoy-mobile 0.4.3.20211020-8dafee documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/envoy.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Additional Resources" href="additional_resources.html" />
    <link rel="prev" title="Getting help" href="getting_help.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> envoy-mobile
          

          
          </a>

          
            
            
              <div class="version">
                0.4.3.20211020-8dafee
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="intro.html">Introduction</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="what_is_envoy_mobile.html">What is Envoy Mobile?</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison.html">Comparison to similar systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_help.html">Getting help</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Version history</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#next">Next</a></li>
<li class="toctree-l3"><a class="reference internal" href="#july-27-2021">0.4.2 (July 27, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#may-28-2021">0.4.1 (May 28, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#march-23-2021">0.4.0 (March 23, 2021)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#july-23-2020">0.3.1 (July 23, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mar-26-2020">0.3.0 (Mar 26, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#feb-21-2020">0.2.3 (Feb 21, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#feb-3-2020">0.2.2 (Feb 3, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jan-6-2020">0.2.1 (Jan 6, 2020)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nov-4-2019">0.2.0 (Nov 4, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sep-11-2019">0.1.1 (Sep 11, 2019)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jun-18-2019">0.1.0 (Jun 18, 2019)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="additional_resources.html">Additional Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../start/start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/development.html">Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">envoy-mobile</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="intro.html">Introduction</a> &raquo;</li>
        
      <li>Version history</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/intro/version_history.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="version-history">
<h1>Version history<a class="headerlink" href="#version-history" title="Permalink to this headline">¶</a></h1>
<div class="section" id="next">
<h2>Next<a class="headerlink" href="#next" title="Permalink to this headline">¶</a></h2>
<p>Features:</p>
<ul class="simple">
<li>Adds support for using <a class="reference external" href="https://developer.apple.com/documentation/network/nwpathmonitor">NWPathMonitor</a>
instead of <a class="reference external" href="https://developer.apple.com/documentation/systemconfiguration/scnetworkreachability">SCNetworkReachability</a>
on supported platforms (iOS 12+) to update the preferred Envoy network cluster (e.g. WLAN vs WWAN).</li>
</ul>
</div>
<div class="section" id="july-27-2021">
<h2>0.4.2 (July 27, 2021)<a class="headerlink" href="#july-27-2021" title="Permalink to this headline">¶</a></h2>
<p>Bugfixes:</p>
<ul class="simple">
<li>Filters: Prevent spurious cancellation callbacks from the gRPC error path (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/1560">#1560</a>)</li>
<li>JNI: null terminate strings before passing to NewStringUTF (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/1589">#1589</a>)</li>
</ul>
<p>Features:</p>
<ul class="simple">
<li>Cronvoy: explicit flow control mode (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/1513">#1513</a>)</li>
<li>Debugging: add Scope Trackers for ease of debugging (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/1498">#1498</a>)</li>
<li>DNS: prefetch DNS hostnames (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/1535">#1535</a>)</li>
<li>Exception Handling: convert Envoy Exceptions to crashes (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/1505">#1505</a>)</li>
<li>Stats: expose flushStats on the Engine (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/1486">#1486</a>)</li>
</ul>
</div>
<div class="section" id="may-28-2021">
<h2>0.4.1 (May 28, 2021)<a class="headerlink" href="#may-28-2021" title="Permalink to this headline">¶</a></h2>
<p>Bugfixes:</p>
<ul class="simple">
<li>Fixes platform-bridged filters crash when resumed asynchronously after stream termination.</li>
<li>Disables route timeout by default.</li>
</ul>
<p>Features:</p>
<ul class="simple">
<li>Connection classes will open minimum of 2 under most circumstances to a given endpoint and distribute requests between them (previously, only 1).</li>
<li>Adds Pulse support for stats tags.</li>
<li>Enables configuration of stream idle timeout.</li>
<li>Introduces a Python interface compatible with the popular Requests library.</li>
<li>Adds experimental QUIC integration test.</li>
<li>Adds pure JVM support.</li>
</ul>
</div>
<div class="section" id="march-23-2021">
<h2>0.4.0 (March 23, 2021)<a class="headerlink" href="#march-23-2021" title="Permalink to this headline">¶</a></h2>
<p>This is a large release. Moving forward the team will aim to release smaller version updates.
The following is a very high-level overview of the larger changes going into this release.</p>
<p>Richer Platform-level Feature Set:</p>
<ul class="simple">
<li>Adds pluggable logging capabilities via <a class="reference internal" href="../api/starting_envoy.html#api-starting-envoy"><span class="std std-ref">setLogger</span></a></li>
<li>Adds <a class="reference internal" href="../api/stats.html#api-stats"><span class="std std-ref">platform APIs</span></a> for emitting time-series data</li>
<li>Adds platform Filters</li>
<li>Adds API for accessing arbitrary strings from platform runtime via <a class="reference internal" href="../api/starting_envoy.html#api-starting-envoy"><span class="std std-ref">addStringAccessor</span></a></li>
</ul>
<p>Additional Language Bindings:</p>
<ul class="simple">
<li>Alpha version of python APIs via C++ bindings</li>
<li>Alpha version exposing cronet compatible APIs</li>
</ul>
<p>Continued Bug fixes uncovered by additional testing:</p>
<ul class="simple">
<li>Fixes several memory management corner-cases</li>
<li>Fixes several issues that have led to production crashes</li>
</ul>
<p>Additional hardening of the codebase via extensive testing:</p>
<ul class="simple">
<li>Adds end-to-end testing that covers roundtrip code execution from the platform layer to the core layer.</li>
<li>Adds coverage CI runs for core C++ core</li>
</ul>
</div>
<div class="section" id="july-23-2020">
<h2>0.3.1 (July 23, 2020)<a class="headerlink" href="#july-23-2020" title="Permalink to this headline">¶</a></h2>
<p>In the last few months the team has continued to harden Envoy Mobile with production exposure.</p>
<p>Stability and Production Hardening:</p>
<ul class="simple">
<li>Improves concurrency management for retries (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/774">#774</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/811">#811</a>)</li>
<li>Adds complete coverage for c++ code (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/791">#791</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/792">#792</a>)</li>
<li>Updates platform interfaces as production experience informs ergonomics (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/798">#798</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/802">#802</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/808">#808</a>)</li>
<li>Updates termination signal handling (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/835">#835</a>)</li>
<li>Updates battery and cpu analysis (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/852">#852</a>)</li>
<li>Adds bi-directional compression support (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/861">#861</a>)</li>
<li>Fixes SIGPIPE handling for iOS (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/965">#965</a>)</li>
<li>Introduces formal style for cross-platform enums (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/966">#966</a>)</li>
<li>Updates to build to C++17 (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/#964">#964</a>)</li>
</ul>
<p>Observability:</p>
<ul class="simple">
<li>Adds emission rule for upstream_rq_active (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/775">#775</a>)</li>
<li>Adds the ability to observe number of retries that happened on a particular stream (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/821">#821</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/820">#820</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/813">#813</a>)</li>
<li>Adds <a class="reference external" href="Http::Dispatcher">Http::Dispatcher</a> stats (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/871">#871</a>)</li>
<li>Adds stats for 4xx codes (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/902">#902</a>)</li>
</ul>
<p>Extensibility:</p>
<ul class="simple">
<li>Introduces platform filter interfaces and bridging (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/795">#795</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/840">#840</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/858">#858</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/913">#913</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/940">#940</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/955">#955</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/943">#943</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/962">#962</a>)</li>
<li>Introduces Envoy’s extension platform (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/860">#860</a>)</li>
</ul>
<p>Lastly, and perhaps most importantly, we have adopted a formal <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/blob/main/CONTRIBUTING.md#inclusive-language-policy">inclusive language policy</a>
(<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/948">#948</a>) and updated all necessary locations (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/944">#944</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/945">#945</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/946">#946</a>)</p>
</div>
<div class="section" id="mar-26-2020">
<h2>0.3.0 (Mar 26, 2020)<a class="headerlink" href="#mar-26-2020" title="Permalink to this headline">¶</a></h2>
<p>This is the first release of Envoy Mobile Lyft is using in a production application! 🎉</p>
<p>Since early November, when the team tagged v0.2.0, we have been hard at work to stabilize the library,
and harden it via experiments with Lyft’s Alpha and Beta releases. We have released Lyft’s production
binaries with Envoy Mobile for a couple weeks now, and are starting to expose a percentage of our
production clients to Envoy Mobile with this release.</p>
<p>Since v0.2.3 we have largely focused on observability:</p>
<ul class="simple">
<li>Adds improved logging (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/701">#701</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/702">#702</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/722">#722</a>)</li>
<li>Adds basic stats for retries <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/718">#718</a>)</li>
<li>Adds <code class="docutils literal notranslate"><span class="pre">x-envoy-attempt-count</span></code> response header (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/751">#751</a>)</li>
<li>Adds visibility over <a class="reference external" href="https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/route/v3/route_components.proto#config-route-v3-virtualcluster">virtual clusters</a> (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/768">#768</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/771">#771</a>)</li>
</ul>
<p>Additional changes:</p>
<ul class="simple">
<li>Fixes trailers missing on iOS (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/703">#703</a>)</li>
<li>Adds ability to set DNS failure refresh rate (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/714">#714</a>)</li>
<li>Adds docs on the EnvoyClientBuilder (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/745">#745</a>)</li>
</ul>
</div>
<div class="section" id="feb-21-2020">
<h2>0.2.3 (Feb 21, 2020)<a class="headerlink" href="#feb-21-2020" title="Permalink to this headline">¶</a></h2>
<p>This release provides stabilization fixes as follow-up changes to 0.2.2:</p>
<ul class="simple">
<li>Fixes race that caused double-deletion of HCM active streams crashing (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/669">#669</a>)</li>
<li>Fixes DNS resolution when starting Envoy Mobile offline on iOS (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/672">#672</a>)</li>
<li>Fixes for API listener crashes (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/667">#667</a> and <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/674">#674</a>)</li>
<li>Fixes for linking and assertions (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/663">#663</a>)</li>
<li>Fixes bad access in ~DnsCache() in Envoy upstream (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/690">#690</a>)</li>
<li>Fixes bug in Dynamic Forward Proxy Cluster in Envoy Upstream (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/678">#678</a>)</li>
<li>Adds known issue assertion that prevents crash on force-close (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/699">#699</a>)</li>
</ul>
<p>Additional changes:</p>
<ul class="simple">
<li>Allows zero for upstream timeout specification (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/659">#659</a>)</li>
<li>Adds process logging for Android (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/684">#684</a>)</li>
<li>Adds the ability to decide upstream protocol for requests (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/697">#697</a>)</li>
</ul>
</div>
<div class="section" id="feb-3-2020">
<h2>0.2.2 (Feb 3, 2020)<a class="headerlink" href="#feb-3-2020" title="Permalink to this headline">¶</a></h2>
<p>Envoy Mobile v0.2.2 changes how network requests are performed to no longer use Envoy’s <cite>AsyncClient</cite> and to instead consume the <cite>ApiListener</cite> directly (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/616">#616</a>).</p>
<p>Additional changes:</p>
<ul class="simple">
<li>Domain specification when starting the library is no longer supported (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/641">#641</a>, <a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/642">#642</a>). Envoy Mobile now uses the authority specified when starting a new stream</li>
<li>Less aggressive retry back-off policies (<a class="reference external" href="https://github.com/envoyproxy/envoy-mobile/issues/652">#652</a>)</li>
</ul>
</div>
<div class="section" id="jan-6-2020">
<h2>0.2.1 (Jan 6, 2020)<a class="headerlink" href="#jan-6-2020" title="Permalink to this headline">¶</a></h2>
<p>This release of Envoy Mobile contains some small improvements:</p>
<ul class="simple">
<li>Maven release script for Android builds</li>
<li>Streams are now limited to a single “terminal” callback</li>
<li>Keepalive settings are now in place to better support connection switching and long-lived streams</li>
<li>Properly support IPv6 networks by using updated DNS settings</li>
</ul>
</div>
<div class="section" id="nov-4-2019">
<h2>0.2.0 (Nov 4, 2019)<a class="headerlink" href="#nov-4-2019" title="Permalink to this headline">¶</a></h2>
<p>Envoy Mobile v0.2 is a fundamental shift in how mobile clients use Envoy. Envoy Mobile now provides native Swift/Kotlin APIs that call through to Envoy directly (rather than using Envoy as a proxy), which apps use to create and interact with network streams.</p>
<p>This release includes a variety of new functionality:
- HTTP request and streaming support
- gRPC streaming support through a built-in codec
- Automatic retries using Envoy’s retry policies
- Programmatic, typed configuration for launching the Envoy network library</p>
</div>
<div class="section" id="sep-11-2019">
<h2>0.1.1 (Sep 11, 2019)<a class="headerlink" href="#sep-11-2019" title="Permalink to this headline">¶</a></h2>
<p>This release is identical to v0.1.0, but packages the license and support for additional architectures.</p>
</div>
<div class="section" id="jun-18-2019">
<h2>0.1.0 (Jun 18, 2019)<a class="headerlink" href="#jun-18-2019" title="Permalink to this headline">¶</a></h2>
<p>Initial open source release.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="additional_resources.html" class="btn btn-neutral float-right" title="Additional Resources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting_help.html" class="btn btn-neutral" title="Getting help" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021 Lyft, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>